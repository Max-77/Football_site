"use strict";

var _react = _interopRequireDefault(require("react"));

var _reactDom = require("react-dom");

var _DOMRegistry = _interopRequireDefault(require("../DOMRegistry"));

var _RDCSectionDOM = _interopRequireDefault(require("../__mocks__/rdcSection/RDCSectionDOM"));

var _dom = _interopRequireDefault(require("../__mocks__/dom.html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

document.body.innerHTML = _dom.default;
describe('DOM Registry', function () {
  var domRegistry = new _DOMRegistry.default(_react.default, _reactDom.render);
  domRegistry.register({
    rdcSectionDOM: _RDCSectionDOM.default
  });
  domRegistry.init(document);
  it('if supplied a document, registry returns document', function () {
    expect(domRegistry.element).toBe(document);
  });
  it('only has one node name', function () {
    expect(domRegistry.nodeNames[0]).toBe('rdc-section');
  });
  it('section has properties', function () {
    expect(domRegistry.components['rdcSectionDOM'].rendered[0].reactElement.props.title).toBe('Problem');
  });
  it('ref is populated since RDCSectionComponent is a class based react component (stateful)', function () {
    expect(domRegistry.components['rdcSectionDOM'].rendered[0].ref.props.title).toBe('Problem');
  });
});